
<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>حجز موعد - ClinicPro</title>
    
    <!-- Fonts & Icons -->
    <link rel="stylesheet" href="assets/fonts/tajawal.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    
    <!-- Styles -->
    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="stylesheet" href="assets/css/booking.css">
    
    <!-- Favicon -->
    <link rel="icon" href="assets/images/favicon.ico" type="image/x-icon">
    
    <!-- Meta Tags -->
    <meta name="description" content="حجز موعد في العيادة - نظام حجز المواعيد الطبية">
    <meta name="keywords" content="حجز موعد, عيادة, طبيب, مواعيد, صحة">
</head>
<body>
    <!-- Loading Spinner -->
    <div id="loading-spinner" class="loading-spinner">
        <div class="spinner"></div>
        <p>جاري تحميل صفحة الحجز...</p>
    </div>

    <!-- Navigation Bar -->
    <nav class="navbar" id="navbar">
        <div class="container nav-container">
            <div class="logo">
                <div class="logo-icon">
                    <i class="fas fa-stethoscope"></i>
                </div>
                <div class="logo-text">
                    <h1>Clinic<span class="logo-highlight">Pro</span></h1>
                    <p>نظام إدارة العيادات</p>
                </div>
            </div>
            
            <button class="mobile-menu-btn" id="mobile-menu-btn">
                <i class="fas fa-bars"></i>
            </button>
            
            <ul class="nav-menu" id="nav-menu">
                <li><a href="index.html" class="nav-link"><i class="fas fa-home"></i> الرئيسية</a></li>
                <li><a href="demo.html" class="nav-link"><i class="fas fa-play-circle"></i> التجربة</a></li>
                <li><a href="booking.html" class="nav-link active"><i class="fas fa-calendar-check"></i> حجز موعد</a></li>
                <li><a href="dashboard.html" class="nav-link"><i class="fas fa-tachometer-alt"></i> لوحة التحكم</a></li>
                <li><a href="login.html" class="nav-link"><i class="fas fa-sign-in-alt"></i> تسجيل الدخول</a></li>
                <li>
                    <button class="theme-toggle" id="theme-toggle" title="تبديل الوضع المظلم">
                        <i class="fas fa-moon"></i>
                    </button>
                </li>
            </ul>
        </div>
    </nav>

    <!-- Main Booking Section -->
    <main class="booking-page">
        <div class="container">
            <div class="booking-header">
                <h1 class="page-title"><i class="fas fa-calendar-plus"></i> حجز موعد جديد</h1>
                <p class="page-subtitle">اختر الطبيب والتاريخ والوقت المناسب لحجز موعدك</p>
            </div>

            <!-- Booking Steps -->
            <div class="booking-wizard">
                <div class="wizard-steps">
                    <div class="wizard-step active" data-step="1">
                        <div class="step-number">1</div>
                        <div class="step-label">اختيار الطبيب</div>
                    </div>
                    <div class="wizard-step" data-step="2">
                        <div class="step-number">2</div>
                        <div class="step-label">اختيار التاريخ</div>
                    </div>
                    <div class="wizard-step" data-step="3">
                        <div class="step-number">3</div>
                        <div class="step-label">اختيار الوقت</div>
                    </div>
                    <div class="wizard-step" data-step="4">
                        <div class="step-number">4</div>
                        <div class="step-label">معلومات المريض</div>
                    </div>
                    <div class="wizard-step" data-step="5">
                        <div class="step-number">5</div>
                        <div class="step-label">تأكيد الحجز</div>
                    </div>
                </div>

                <!-- Step 1: Choose Doctor -->
                <div class="wizard-step-content active" data-step="1">
                    <div class="step-header">
                        <h2><i class="fas fa-user-md"></i> اختيار الطبيب</h2>
                        <p>اختر الطبيب المختص المناسب لك</p>
                    </div>
                    
                    <div class="doctors-grid" id="doctors-list">
                        <!-- سيتم ملؤها بالجافاسكريبت -->
                        <div class="loading-doctors">
                            <div class="spinner"></div>
                            <p>جاري تحميل قائمة الأطباء...</p>
                        </div>
                    </div>
                    
                    <div class="step-actions">
                        <button class="btn btn-secondary" disabled>السابق</button>
                        <button class="btn btn-primary next-step" data-next="2">التالي <i class="fas fa-arrow-left"></i></button>
                    </div>
                </div>

                <!-- Step 2: Choose Date -->
                <div class="wizard-step-content" data-step="2">
                    <div class="step-header">
                        <h2><i class="fas fa-calendar-alt"></i> اختيار التاريخ</h2>
                        <p>اختر التاريخ المناسب للموعد</p>
                    </div>
                    
                    <div class="date-selection">
                        <div class="calendar-container">
                            <div class="calendar-header">
                                <button class="btn btn-icon prev-month">
                                    <i class="fas fa-chevron-right"></i>
                                </button>
                                <h3 class="current-month" id="current-month">ديسمبر 2025</h3>
                                <button class="btn btn-icon next-month">
                                    <i class="fas fa-chevron-left"></i>
                                </button>
                            </div>
                            <div class="calendar-weekdays">
                                <div>أح</div>
                                <div>إث</div>
                                <div>ث</div>
                                <div>أر</div>
                                <div>خ</div>
                                <div>ج</div>
                                <div>س</div>
                            </div>
                            <div class="calendar-days" id="calendar-days">
                                <!-- سيتم ملؤها بالجافاسكريبت -->
                            </div>
                        </div>
                        
                        <div class="date-info">
                            <div class="selected-doctor-info" id="selected-doctor-info">
                                <!-- سيتم ملؤها بالجافاسكريبت -->
                            </div>
                            <div class="available-dates">
                                <h4><i class="fas fa-clock"></i> الأيام المتاحة</h4>
                                <div class="available-days" id="available-days">
                                    <!-- سيتم ملؤها بالجافاسكريبت -->
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="step-actions">
                        <button class="btn btn-secondary prev-step" data-prev="1"><i class="fas fa-arrow-right"></i> السابق</button>
                        <button class="btn btn-primary next-step" data-next="3" disabled>التالي <i class="fas fa-arrow-left"></i></button>
                    </div>
                </div>

                <!-- Step 3: Choose Time -->
                <div class="wizard-step-content" data-step="3">
                    <div class="step-header">
                        <h2><i class="fas fa-clock"></i> اختيار الوقت</h2>
                        <p>اختر الوقت المناسب للموعد</p>
                    </div>
                    
                    <div class="time-selection">
                        <div class="selected-date-info">
                            <div class="info-card">
                                <div class="info-item">
                                    <span class="info-label">الطبيب:</span>
                                    <span class="info-value" id="selected-doctor-name">-</span>
                                </div>
                                <div class="info-item">
                                    <span class="info-label">التاريخ:</span>
                                    <span class="info-value" id="selected-date">-</span>
                                </div>
                                <div class="info-item">
                                    <span class="info-label">يوم:</span>
                                    <span class="info-value" id="selected-day">-</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="time-slots-container">
                            <h4><i class="fas fa-list"></i> الأوقات المتاحة</h4>
                            <div class="time-slots" id="time-slots">
                                <!-- سيتم ملؤها بالجافاسكريبت -->
                            </div>
                            <div class="no-slots" id="no-slots" style="display: none;">
                                <i class="fas fa-calendar-times"></i>
                                <p>لا توجد أوقات متاحة في هذا التاريخ</p>
                                <button class="btn btn-outline change-date">تغيير التاريخ</button>
                            </div>
                        </div>
                        
                        <div class="appointment-type">
                            <h4><i class="fas fa-file-medical"></i> نوع الزيارة</h4>
                            <div class="type-options" id="type-options">
                                <!-- سيتم ملؤها بالجافاسكريبت -->
                            </div>
                        </div>
                    </div>
                    
                    <div class="step-actions">
                        <button class="btn btn-secondary prev-step" data-prev="2"><i class="fas fa-arrow-right"></i> السابق</button>
                        <button class="btn btn-primary next-step" data-next="4" disabled>التالي <i class="fas fa-arrow-left"></i></button>
                    </div>
                </div>

                <!-- Step 4: Patient Information -->
                <div class="wizard-step-content" data-step="4">
                    <div class="step-header">
                        <h2><i class="fas fa-user-injured"></i> معلومات المريض</h2>
                        <p>أدخل معلوماتك الشخصية والطبية</p>
                    </div>
                    
                    <div class="patient-form-container">
                        <div class="appointment-summary">
                            <h4><i class="fas fa-clipboard-list"></i> ملخص الموعد</h4>
                            <div class="summary-card">
                                <div class="summary-item">
                                    <span class="summary-label">الطبيب:</span>
                                    <span class="summary-value" id="summary-doctor">-</span>
                                </div>
                                <div class="summary-item">
                                    <span class="summary-label">التاريخ:</span>
                                    <span class="summary-value" id="summary-date">-</span>
                                </div>
                                <div class="summary-item">
                                    <span class="summary-label">الوقت:</span>
                                    <span class="summary-value" id="summary-time">-</span>
                                </div>
                                <div class="summary-item">
                                    <span class="summary-label">نوع الزيارة:</span>
                                    <span class="summary-value" id="summary-type">-</span>
                                </div>
                                <div class="summary-item">
                                    <span class="summary-label">التكلفة:</span>
                                    <span class="summary-value" id="summary-fee">-</span>
                                </div>
                            </div>
                        </div>
                        
                        <form id="patient-form" class="patient-form">
                            <div class="form-section">
                                <h4><i class="fas fa-id-card"></i> المعلومات الشخصية</h4>
                                
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="patient-name">الاسم الكامل *</label>
                                        <input type="text" id="patient-name" name="fullName" required 
                                               placeholder="الاسم الثلاثي">
                                    </div>
                                    
                                    <div class="form-group">
                                        <label for="patient-phone">رقم الهاتف *</label>
                                        <input type="tel" id="patient-phone" name="phone" required 
                                               placeholder="05XXXXXXXX">
                                    </div>
                                </div>
                                
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="patient-email">البريد الإلكتروني</label>
                                        <input type="email" id="patient-email" name="email" 
                                               placeholder="example@domain.com">
                                    </div>
                                    
                                    <div class="form-group">
                                        <label for="patient-gender">الجنس *</label>
                                        <select id="patient-gender" name="gender" required>
                                            <option value="">اختر الجنس</option>
                                            <option value="ذكر">ذكر</option>
                                            <option value="أنثى">أنثى</option>
                                        </select>
                                    </div>
                                </div>
                                
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="patient-birthdate">تاريخ الميلاد</label>
                                        <input type="date" id="patient-birthdate" name="birthDate">
                                    </div>
                                    
                                    <div class="form-group">
                                        <label for="patient-age">العمر</label>
                                        <input type="number" id="patient-age" name="age" min="0" max="120" 
                                               placeholder="يتم حسابه تلقائياً" readonly>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="form-section">
                                <h4><i class="fas fa-home"></i> معلومات العنوان</h4>
                                
                                <div class="form-group">
                                    <label for="patient-address">العنوان</label>
                                    <textarea id="patient-address" name="address" rows="2" 
                                              placeholder="العنوان التفصيلي"></textarea>
                                </div>
                            </div>
                            
                            <div class="form-section">
                                <h4><i class="fas fa-file-medical-alt"></i> معلومات طبية</h4>
                                
                                <div class="form-group">
                                    <label for="patient-blood">فصيلة الدم</label>
                                    <select id="patient-blood" name="bloodType">
                                        <option value="">اختر فصيلة الدم</option>
                                        <option value="O+">O+</option>
                                        <option value="O-">O-</option>
                                        <option value="A+">A+</option>
                                        <option value="A-">A-</option>
                                        <option value="B+">B+</option>
                                        <option value="B-">B-</option>
                                        <option value="AB+">AB+</option>
                                        <option value="AB-">AB-</option>
                                    </select>
                                </div>
                                
                                <div class="form-group">
                                    <label for="patient-allergies">الحساسية</label>
                                    <textarea id="patient-allergies" name="allergies" rows="2" 
                                              placeholder="الحساسية المعروفة (إن وجدت)"></textarea>
                                </div>
                                
                                <div class="form-group">
                                    <label for="patient-chronic">الأمراض المزمنة</label>
                                    <textarea id="patient-chronic" name="chronicDiseases" rows="2" 
                                              placeholder="الأمراض المزمنة (إن وجدت)"></textarea>
                                </div>
                            </div>
                            
                            <div class="form-section">
                                <h4><i class="fas fa-sticky-note"></i> ملاحظات إضافية</h4>
                                
                                <div class="form-group">
                                    <label for="appointment-reason">سبب الزيارة *</label>
                                    <textarea id="appointment-reason" name="reason" rows="3" required 
                                              placeholder="صف سبب زيارتك للطبيب"></textarea>
                                </div>
                                
                                <div class="form-group">
                                    <label for="appointment-notes">ملاحظات إضافية</label>
                                    <textarea id="appointment-notes" name="notes" rows="2" 
                                              placeholder="أي معلومات إضافية تريد إضافتها"></textarea>
                                </div>
                            </div>
                            
                            <div class="form-check">
                                <input type="checkbox" id="terms-agreement" name="terms" required>
                                <label for="terms-agreement">
                                    أوافق على <a href="#" class="terms-link">الشروط والأحكام</a> و 
                                    <a href="#" class="privacy-link">سياسة الخصوصية</a>
                                </label>
                            </div>
                        </form>
                    </div>
                    
                    <div class="step-actions">
                        <button class="btn btn-secondary prev-step" data-prev="3"><i class="fas fa-arrow-right"></i> السابق</button>
                        <button class="btn btn-primary next-step" data-next="5" disabled>التالي <i class="fas fa-arrow-left"></i></button>
                    </div>
                </div>

                <!-- Step 5: Confirmation -->
                <div class="wizard-step-content" data-step="5">
                    <div class="step-header">
                        <h2><i class="fas fa-check-circle"></i> تأكيد الحجز</h2>
                        <p>راجع معلومات الموعد وقم بتأكيد الحجز</p>
                    </div>
                    
                    <div class="confirmation-container">
                        <div class="confirmation-card">
                            <div class="confirmation-header">
                                <i class="fas fa-calendar-check"></i>
                                <h3>تأكيد حجز الموعد</h3>
                                <p class="confirmation-code">رمز الحجز: <span id="booking-code">-</span></p>
                            </div>
                            
                            <div class="confirmation-body">
                                <div class="confirmation-section">
                                    <h4><i class="fas fa-user-md"></i> معلومات الطبيب</h4>
                                    <div class="confirmation-grid">
                                        <div class="confirmation-item">
                                            <span class="item-label">الطبيب:</span>
                                            <span class="item-value" id="confirm-doctor">-</span>
                                        </div>
                                        <div class="confirmation-item">
                                            <span class="item-label">التخصص:</span>
                                            <span class="item-value" id="confirm-specialty">-</span>
                                        </div>
                                        <div class="confirmation-item">
                                            <span class="item-label">الرسوم:</span>
                                            <span class="item-value" id="confirm-fee">-</span>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="confirmation-section">
                                    <h4><i class="fas fa-clock"></i> توقيت الموعد</h4>
                                    <div class="confirmation-grid">
                                        <div class="confirmation-item">
                                            <span class="item-label">التاريخ:</span>
                                            <span class="item-value" id="confirm-date">-</span>
                                        </div>
                                        <div class="confirmation-item">
                                            <span class="item-label">اليوم:</span>
                                            <span class="item-value" id="confirm-day">-</span>
                                        </div>
                                        <div class="confirmation-item">
                                            <span class="item-label">الوقت:</span>
                                            <span class="item-value" id="confirm-time">-</span>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="confirmation-section">
                                    <h4><i class="fas fa-user-injured"></i> معلومات المريض</h4>
                                    <div class="confirmation-grid">
                                        <div class="confirmation-item">
                                            <span class="item-label">الاسم:</span>
                                            <span class="item-value" id="confirm-patient">-</span>
                                        </div>
                                        <div class="confirmation-item">
                                            <span class="item-label">الهاتف:</span>
                                            <span class="item-value" id="confirm-phone">-</span>
                                        </div>
                                        <div class="confirmation-item">
                                            <span class="item-label">نوع الزيارة:</span>
                                            <span class="item-value" id="confirm-type">-</span>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="confirmation-section">
                                    <h4><i class="fas fa-sticky-note"></i> ملاحظات</h4>
                                    <div class="confirmation-item full-width">
                                        <span class="item-label">سبب الزيارة:</span>
                                        <span class="item-value" id="confirm-reason">-</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="confirmation-footer">
                                <div class="total-fee">
                                    <span class="total-label">إجمالي المبلغ:</span>
                                    <span class="total-amount" id="total-fee">-</span>
                                </div>
                                
                                <div class="confirmation-actions">
                                    <button class="btn btn-secondary" id="edit-booking">
                                        <i class="fas fa-edit"></i> تعديل المعلومات
                                    </button>
                                    <button class="btn btn-success" id="confirm-booking">
                                        <i class="fas fa-check"></i> تأكيد الحجز
                                    </button>
                                </div>
                            </div>
                        </div>
                        
                        <div class="booking-instructions">
                            <h4><i class="fas fa-info-circle"></i> تعليمات مهمة</h4>
                            <ul class="instructions-list">
                                <li><i class="fas fa-check-circle"></i> يرجى الحضور قبل الموعد بـ 15 دقيقة</li>
                                <li><i class="fas fa-check-circle"></i> إحضار البطاقة الشخصية والتحاليل السابقة</li>
                                <li><i class="fas fa-check-circle"></i> يفضل إلغاء الموعد قبل 24 ساعة إذا تعذر الحضور</li>
                                <li><i class="fas fa-check-circle"></i> يمكنك تعديل أو إلغاء الموعد من لوحة التحكم</li>
                                <li><i class="fas fa-check-circle"></i> ستصلك رسالة تأكيد على هاتفك المحمول</li>
                            </ul>
                            
                            <div class="reminder">
                                <i class="fas fa-bell"></i>
                                <p>سيتم إرسال تذكير قبل الموعد بـ 24 ساعة و 30 دقيقة</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="step-actions">
                        <button class="btn btn-secondary prev-step" data-prev="4"><i class="fas fa-arrow-right"></i> السابق</button>
                        <button class="btn btn-primary" id="new-booking" style="display: none;">
                            <i class="fas fa-plus"></i> حجز جديد
                        </button>
                    </div>
                </div>
            </div>

            <!-- Quick Booking for Registered Patients -->
            <div class="quick-booking" id="quick-booking" style="display: none;">
                <div class="quick-booking-header">
                    <h3><i class="fas fa-bolt"></i> حجز سريع</h3>
                    <p>حجز موعد باستخدام حسابك المسجل</p>
                </div>
                
                <div class="quick-booking-form">
                    <div class="form-group">
                        <label for="quick-doctor">الطبيب</label>
                        <select id="quick-doctor" class="form-control">
                            <option value="">اختر الطبيب</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="quick-date">التاريخ</label>
                        <input type="date" id="quick-date" class="form-control">
                    </div>
                    
                    <div class="form-group">
                        <label for="quick-time">الوقت</label>
                        <select id="quick-time" class="form-control">
                            <option value="">اختر الوقت</option>
                        </select>
                    </div>
                    
                    <button class="btn btn-primary btn-block" id="quick-book-btn">
                        <i class="fas fa-calendar-check"></i> حجز سريع
                    </button>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-col">
                    <div class="footer-logo">
                        <i class="fas fa-stethoscope"></i>
                        <div>
                            <h3>Clinic<span>Pro</span></h3>
                            <p>نظام إدارة العيادات المتكامل</p>
                        </div>
                    </div>
                    <p class="footer-description">
                        نظام حجز مواعيد ذكي ومتطور يسهل عملية حجز المواعيد الطبية وإدارة العيادات.
                    </p>
                </div>
                
                <div class="footer-col">
                    <h4 class="footer-title">روابط سريعة</h4>
                    <ul class="footer-links">
                        <li><a href="index.html"><i class="fas fa-chevron-left"></i> الرئيسية</a></li>
                        <li><a href="booking.html"><i class="fas fa-chevron-left"></i> حجز موعد</a></li>
                        <li><a href="dashboard.html"><i class="fas fa-chevron-left"></i> لوحة التحكم</a></li>
                        <li><a href="login.html"><i class="fas fa-chevron-left"></i> تسجيل الدخول</a></li>
                    </ul>
                </div>
                
                <div class="footer-col">
                    <h4 class="footer-title">معلومات الاتصال</h4>
                    <ul class="footer-links">
                        <li><a href="tel:+20123456789"><i class="fas fa-phone"></i> +20 123 456 789</a></li>
                        <li><a href="mailto:info@clinicpro.com"><i class="fas fa-envelope"></i> info@clinicpro.com</a></li>
                        <li><i class="fas fa-map-marker-alt"></i> شارع المستشفى الرئيسي - القاهرة</li>
                        <li><i class="fas fa-clock"></i> الأحد - الخميس: 8 صباحاً - 8 مساءً</li>
                    </ul>
                </div>
                
                <div class="footer-col">
                    <h4 class="footer-title">تابعنا</h4>
                    <div class="social-links">
                        <a href="#" class="social-link"><i class="fab fa-facebook-f"></i></a>
                        <a href="#" class="social-link"><i class="fab fa-twitter"></i></a>
                        <a href="#" class="social-link"><i class="fab fa-instagram"></i></a>
                        <a href="#" class="social-link"><i class="fab fa-linkedin-in"></i></a>
                    </div>
                    <p>اشترك في النشرة البريدية</p>
                    <form class="newsletter-form">
                        <div class="input-group">
                            <input type="email" placeholder="بريدك الإلكتروني" required>
                            <button type="submit">
                                <i class="fas fa-paper-plane"></i>
                            </button>
                        </div>
                    </form>
                </div>
            </div>
            
            <div class="footer-bottom">
                <div class="copyright">
                    <p>&copy; <span id="current-year">2025</span> ClinicPro. جميع الحقوق محفوظة.</p>
                </div>
                <div class="footer-links-bottom">
                    <a href="#">سياسة الخصوصية</a>
                    <a href="#">شروط الاستخدام</a>
                    <a href="#">سياسة الإلغاء</a>
                </div>
            </div>
        </div>
    </footer>

    <!-- Back to Top Button -->
    <button id="back-to-top" class="back-to-top">
        <i class="fas fa-chevron-up"></i>
    </button>

    <!-- JavaScript Files -->
    <script src="config.js"></script>
    <script src="database.js"></script>
    <script src="setup.js"></script>
    <script src="assets/js/main.js"></script>
    <script src="assets/js/booking.js"></script>
    
    <script>
        // Initialize current year
        document.getElementById('current-year').textContent = new Date().getFullYear();
    </script>
</body>
</html>
